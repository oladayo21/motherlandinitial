---
export interface Props {
  title?: string;
  subtitle?: string;
}

const {
  title = "Pride of the Motherland",
  subtitle = "Join thousands of passionate fans supporting our legacy",
} = Astro.props;
---

<section class="relative min-h-screen w-full overflow-hidden">
  <!-- Background Image with Parallax -->
  <div class="absolute inset-0 z-0" id="hero-bg">
    <img
      src="https://images.unsplash.com/photo-1522778119026-d647f0596c20?q=80&w=2070"
      alt="Stadium atmosphere"
      class="parallax h-full w-full object-cover"
      loading="eager"
    />
    <div
      class="absolute inset-0 bg-gradient-to-b from-black/50 via-black/70 to-black"
    >
    </div>
  </div>

  <!-- Hero Content -->
  <div class="relative z-10 flex min-h-screen flex-col">
    <div
      class="mx-auto flex max-w-7xl flex-1 items-center px-4 sm:px-6 lg:px-8"
    >
      <div class="grid w-full gap-12 py-20 lg:grid-cols-2 lg:gap-8">
        <!-- Left Column - Main Content -->
        <div class="flex flex-col justify-center space-y-8">
          <div class="space-y-4">
            <h1
              class="font-display animate-fade-in text-5xl leading-tight font-black text-white sm:text-6xl lg:text-7xl"
            >
              <span
                class="animate-slide-down from-yellow to-gold inline-block bg-gradient-to-r via-yellow-400 bg-clip-text text-transparent"
                >{title}</span
              >
            </h1>
            <p
              class="font-body animate-slide-up animate-stagger-1 text-xl text-white/90 sm:text-2xl"
            >
              {subtitle}
            </p>
          </div>

          <!-- CTA Buttons -->
          <div class="animate-fade-in animate-stagger-2 flex flex-wrap gap-4">
            <a
              href="/news"
              class="bg-yellow font-body shadow-yellow/30 hover:shadow-yellow/50 px-8 py-4 text-lg font-bold text-black shadow-lg transition-all hover:scale-105 hover:bg-yellow-400 hover:shadow-xl"
            >
              Latest News
            </a>
            <a
              href="/matches"
              class="border-yellow font-body text-yellow hover:bg-yellow hover:shadow-yellow/50 border-2 bg-black/50 px-8 py-4 text-lg font-bold backdrop-blur-sm transition-all hover:text-black hover:shadow-xl"
            >
              View Fixtures
            </a>
          </div>
        </div>

        <!-- Right Column - Featured Cards -->
        <div class="flex flex-col justify-center space-y-4">
          <!-- Next Match Card with Countdown -->
          <div
            class="hero-card hero-card-animate border-yellow/20 hover:border-yellow bg-black-700 border p-6 backdrop-blur-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_10px_40px_rgba(255,214,2,0.3)]"
          >
            <div class="mb-2 flex items-center justify-between">
              <span
                class="font-body text-yellow text-xs font-medium tracking-wider uppercase"
                >Next Match</span
              >
              <span class="font-body text-xs text-white/60"
                >Saturday, 15:00</span
              >
            </div>
            <h3 class="font-display mb-2 text-xl font-bold text-white">
              Motherland SC vs City United
            </h3>
            <p class="font-body text-white/70">Home - National Stadium</p>
            <div class="mt-3 flex items-center justify-between">
              <div class="flex items-center gap-2">
                <span class="animate-pulse-glow bg-yellow inline-block h-2 w-2"
                ></span>
                <span class="font-body text-yellow text-xs"
                  >Tickets Available</span
                >
              </div>
              <a
                href="/matches"
                class="font-body text-yellow transition-colors hover:text-yellow-400"
              >
                Match Details →
              </a>
            </div>
          </div>

          <!-- Latest Result Card with Score Animation -->
          <div
            class="hero-card hero-card-animate border-yellow/20 hover:border-yellow bg-black-700 border p-6 backdrop-blur-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_10px_40px_rgba(255,214,2,0.3)]"
          >
            <div class="mb-2 flex items-center justify-between">
              <span
                class="font-body text-yellow text-xs font-medium tracking-wider uppercase"
                >Latest Result</span
              >
              <span class="font-body text-xs text-white/60">Full Time</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex-1">
                <p class="font-display text-2xl font-bold text-white">
                  <span class="score-counter" data-target="3">0</span> - <span
                    class="score-counter"
                    data-target="1">0</span
                  >
                </p>
                <p class="font-body text-sm text-white/70">
                  Victory vs Rangers FC
                </p>
              </div>
              <a
                href="/matches"
                class="font-body text-yellow transition-colors hover:text-yellow-400"
              >
                Match Report →
              </a>
            </div>
          </div>

          <!-- Breaking News Card with Glow Effect -->
          <div class="hero-card hero-card-animate glow-border p-[1px]">
            <div class="bg-black/80 p-6 backdrop-blur-sm">
              <div class="mb-2 flex items-center gap-2">
                <span
                  class="font-body text-yellow text-xs font-medium tracking-wider uppercase"
                  >Breaking News</span
                >
                <span class="inline-flex h-2 w-2">
                  <span
                    class="bg-yellow absolute inline-flex h-2 w-2 animate-ping opacity-75"
                  ></span>
                  <span class="bg-yellow relative inline-flex h-2 w-2"></span>
                </span>
              </div>
              <h3 class="font-display mb-2 text-xl font-bold text-white">
                New Signing: Star Midfielder Joins Squad
              </h3>
              <p class="font-body text-white/70">
                International midfielder signs 4-year contract with the club.
              </p>
              <a
                href="/news"
                class="font-body text-yellow mt-4 inline-block transition-colors hover:text-yellow-400"
              >
                Read More →
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Score Counter Animation
  function animateScores() {
    const counters = document.querySelectorAll(".score-counter");

    counters.forEach((counter) => {
      const target = parseInt(counter.dataset.target || "0");
      let current = 0;
      const increment = target / 20;
      const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
          counter.textContent = target.toString();
          clearInterval(timer);
        } else {
          counter.textContent = Math.floor(current).toString();
        }
      }, 50);
    });
  }

  // Parallax Effect
  function initParallax() {
    const bg = document.querySelector("#hero-bg img");
    if (!bg) return;

    let ticking = false;
    function updateParallax() {
      const scrolled = window.pageYOffset;
      const parallaxSpeed = 0.5;
      if (bg) {
        bg.style.transform = `translateY(${scrolled * parallaxSpeed}px)`;
      }
      ticking = false;
    }

    function requestTick() {
      if (!ticking) {
        window.requestAnimationFrame(updateParallax);
        ticking = true;
      }
    }

    window.addEventListener("scroll", requestTick);
  }

  // Initialize animations when DOM is ready
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => {
      setTimeout(animateScores, 1000);
      initParallax();
    });
  } else {
    setTimeout(animateScores, 1000);
    initParallax();
  }
</script>
